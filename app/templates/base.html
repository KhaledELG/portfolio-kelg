<!DOCTYPE html>
<html lang="{{ lang or settings.default_locale }}">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{{ (t.meta.title if t and t.meta and t.meta.title else 'Khaled EL GHAMMARTI | Cloud & DevSecOps') }}</title>
  <meta name="description" content="{{ (t.meta.description if t and t.meta and t.meta.description else 'Cloud & DevSecOps engineer crafting secure, automated, observable platforms.') }}" />
  <meta property="og:title" content="{{ (t.meta.title if t and t.meta and t.meta.title else 'Khaled EL GHAMMARTI | Cloud & DevSecOps') }}" />
  <meta property="og:description" content="{{ (t.meta.description if t and t.meta and t.meta.description else 'Cloud & DevSecOps engineer crafting secure, automated, observable platforms.') }}" />
  <meta property="og:image" content="{{ (t.meta.og_image if t and t.meta and t.meta.og_image else '/static/images/projects/og.png') }}" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;600;700&family=Manrope:wght@400;600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="/static/css/styles.css" />
</head>
<body class="font-body bg-slate-950 text-slate-100 min-h-screen">
  <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6" x-data>
    <header class="flex items-center justify-between py-4 sticky top-0 z-20 backdrop-blur">
      <a href="/?lang={{ lang or settings.default_locale }}" class="text-xl font-semibold tracking-tight">Khaled EL GHAMMARTI</a>
      <div class="flex items-center gap-2 text-xs">
        {% set current_lang = (lang or settings.default_locale).lower() %}
        <a href="/?lang=fr" class="px-3 py-1 rounded-md border border-slate-700 {{ 'bg-cyan-500 text-slate-950' if current_lang == 'fr' else 'text-slate-200' }}">FR</a>
        <a href="/?lang=en" class="px-3 py-1 rounded-md border border-slate-700 {{ 'bg-cyan-500 text-slate-950' if current_lang == 'en' else 'text-slate-200' }}">EN</a>
      </div>
    </header>

    {% block content %}{% endblock %}

    <footer class="py-10 text-sm text-slate-400">
      <div class="flex flex-wrap justify-between gap-4 items-center">
        <span>{{ t.footer.made_with if t and t.footer and t.footer.made_with else 'Built with FastAPI, Jinja2, Tailwind and Alpine.js' }}</span>
        <div class="flex gap-4">
          <a class="hover:text-cyan-300" href="https://github.com/{{ settings.github_username }}" aria-label="GitHub">GitHub</a>
          <a class="hover:text-cyan-300" href="https://www.linkedin.com/in/khaled-el-ghammarti" aria-label="LinkedIn">LinkedIn</a>
          <a class="hover:text-cyan-300" href="mailto:khaled.elghammarti@hotmail.com" aria-label="Email">Email</a>
        </div>
      </div>
    </footer>
  </div>
  <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
  <script defer src="/static/js/alpine-init.js"></script>
</body>
</html>
