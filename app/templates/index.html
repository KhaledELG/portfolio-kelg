{% extends "base.html" %}
{% block content %}
<section class="grid lg:grid-cols-2 gap-8 items-center py-12" id="hero">
  <div class="space-y-6">
    <p class="text-cyan-300 uppercase text-sm tracking-[0.3em]">{{ t.badge if t and t.badge else 'Portfolio' }}</p>
    <h1 class="text-4xl sm:text-5xl font-display font-bold leading-tight">{{ t.hero.name if t and t.hero and t.hero.name else 'Khaled EL GHAMMARTI' }}</h1>
    <p class="text-xl text-slate-300">{{ t.hero.title if t and t.hero and t.hero.title else 'Cloud & DevSecOps Engineer' }}</p>
    <p class="text-slate-400 max-w-2xl">{{ t.hero.bio if t and t.hero and t.hero.bio else 'Cloud & DevSecOps engineer crafting secure, automated, observable platforms. Kubernetes, AWS, IaC, GitOps, and platform reliability are my playground.' }}</p>
    <div class="flex flex-wrap gap-3">
    <a href="/resume" class="px-4 py-2 rounded-md bg-cyan-500 text-slate-950 font-semibold shadow-soft hover:-translate-y-0.5 transition">{{ t.hero.cta_resume if t and t.hero and t.hero.cta_resume else 'Download my resume' }}</a>
    <a href="#contact" class="px-4 py-2 rounded-md border border-cyan-500 text-cyan-100 font-semibold hover:bg-cyan-500/10 transition">{{ t.hero.cta_contact if t and t.hero and t.hero.cta_contact else "Let's talk" }}</a>
    </div>
  </div>
  <div class="grid grid-cols-2 gap-4">
    <div class="glass rounded-xl p-4 shadow-soft" x-data="reveal" :class="{'fade-up': visible}">
      <p class="text-sm text-slate-400">{{ t.cards.cloud.title if t and t.cards and t.cards.cloud and t.cards.cloud.title else 'Cloud' }}</p>
      <p class="text-3xl font-display font-semibold">{{ t.cards.cloud.headline if t and t.cards and t.cards.cloud and t.cards.cloud.headline else 'Resilient' }}</p>
      <p class="text-slate-400 mt-2">{{ t.cards.cloud.body if t and t.cards and t.cards.cloud and t.cards.cloud.body else 'Secure multi-cloud architectures.' }}</p>
    </div>
    <div class="glass rounded-xl p-4 shadow-soft" x-data="reveal" :class="{'fade-up': visible}">
      <p class="text-sm text-slate-400">{{ t.cards.devops.title if t and t.cards and t.cards.devops and t.cards.devops.title else 'DevOps' }}</p>
      <p class="text-3xl font-display font-semibold">{{ t.cards.devops.headline if t and t.cards and t.cards.devops and t.cards.devops.headline else 'Automated' }}</p>
      <p class="text-slate-400 mt-2">{{ t.cards.devops.body if t and t.cards and t.cards.devops and t.cards.devops.body else 'CI/CD, GitOps, observability.' }}</p>
    </div>
    <div class="glass rounded-xl p-4 shadow-soft" x-data="reveal" :class="{'fade-up': visible}">
      <p class="text-sm text-slate-400">{{ t.cards.security.title if t and t.cards and t.cards.security and t.cards.security.title else 'Security' }}</p>
      <p class="text-3xl font-display font-semibold">{{ t.cards.security.headline if t and t.cards and t.cards.security and t.cards.security.headline else 'Hardened' }}</p>
      <p class="text-slate-400 mt-2">{{ t.cards.security.body if t and t.cards and t.cards.security and t.cards.security.body else 'Zero trust, IAM, SOC.' }}</p>
    </div>
    <div class="glass rounded-xl p-4 shadow-soft" x-data="reveal" :class="{'fade-up': visible}">
      <p class="text-sm text-slate-400">{{ t.cards.monitoring.title if t and t.cards and t.cards.monitoring and t.cards.monitoring.title else 'Monitoring' }}</p>
      <p class="text-3xl font-display font-semibold">{{ t.cards.monitoring.headline if t and t.cards and t.cards.monitoring and t.cards.monitoring.headline else 'Observable' }}</p>
      <p class="text-slate-400 mt-2">{{ t.cards.monitoring.body if t and t.cards and t.cards.monitoring and t.cards.monitoring.body else 'SLOs, alerting, dashboards.' }}</p>
    </div>
  </div>
</section>

<section id="certifications" class="py-10">
  <div class="flex items-center justify-between mb-6">
    <h2 class="text-2xl font-display font-semibold">{{ t.sections.certifications if t and t.sections and t.sections.certifications else 'Certifications' }}</h2>
    <div class="h-px flex-1 ml-4 bg-gradient-to-r from-cyan-500/50 to-transparent"></div>
  </div>
  <div class="grid sm:grid-cols-2 md:grid-cols-3 gap-4">
    {% for cert in certifications %}
    <div class="glass rounded-xl p-4 shadow-soft flex items-center gap-4">
      <div class="w-14 h-14 bg-slate-900 rounded-lg flex items-center justify-center">
        {% if cert.logo %}
        <img src="{{ cert.logo }}" alt="{{ cert.name }}" class="max-h-10 object-contain" loading="lazy" />
        {% else %}
        <span class="text-cyan-200 text-sm">Logo</span>
        {% endif %}
      </div>
      <div>
        <p class="font-semibold">{{ cert.name }}</p>
        <p class="text-sm text-slate-400">{{ cert.issuer }} • {{ cert.date }}</p>
        {% if cert.credential_url %}
        <a class="text-xs text-cyan-300" href="{{ cert.credential_url }}" target="_blank" rel="noreferrer">{{ t.labels.verify if t and t.labels and t.labels.verify else 'Verify' }}</a>
        {% endif %}
      </div>
    </div>
    {% endfor %}
  </div>
</section>

<section id="skills" class="py-10">
  <div class="flex items-center justify-between mb-6">
    <h2 class="text-2xl font-display font-semibold">{{ t.sections.skills if t and t.sections and t.sections.skills else 'Skills' }}</h2>
    <div class="h-px flex-1 ml-4 bg-gradient-to-r from-cyan-500/50 to-transparent"></div>
  </div>
  <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-4">
    {% for category, items in skills.items() %}
    <div class="glass rounded-xl p-4 shadow-soft">
      <p class="text-sm text-cyan-200 uppercase tracking-wide">{{ category }}</p>
      <div class="mt-3 flex flex-wrap gap-2">
        {% for item in items %}
        <span class="px-3 py-1 rounded-full bg-slate-800 text-sm">{{ item }}</span>
        {% endfor %}
      </div>
    </div>
    {% endfor %}
  </div>
</section>

<section id="experience" class="py-10">
  <div class="flex items-center justify-between mb-6">
    <h2 class="text-2xl font-display font-semibold">{{ t.sections.experience if t and t.sections and t.sections.experience else 'Experience' }}</h2>
    <div class="h-px flex-1 ml-4 bg-gradient-to-r from-cyan-500/50 to-transparent"></div>
  </div>
  <ol class="relative border-l border-slate-800 space-y-6">
    {% for exp in experiences %}
    <li class="pl-6">
      <div class="absolute w-3 h-3 bg-cyan-400 rounded-full -left-1.5 mt-2"></div>
      <div class="flex flex-wrap items-center gap-3 text-sm text-slate-400">
        <span class="font-semibold text-slate-200">{{ exp.role }}</span>
        <span>•</span>
        <span>{{ exp.company }}</span>
        <span>•</span>
        <span>{{ exp.start }} — {{ exp.end }}</span>
      </div>
      <p class="text-slate-300 mt-2">{{ exp.description }}</p>
      <div class="mt-3 flex flex-wrap gap-2">
        {% for tech in exp.technologies %}
        <span class="px-3 py-1 rounded-full bg-slate-800 text-xs">{{ tech }}</span>
        {% endfor %}
      </div>
    </li>
    {% endfor %}
  </ol>
</section>

<section id="technology-stack" class="py-10">
  <div class="flex items-center justify-between mb-6">
    <h2 class="text-2xl font-display font-semibold">{{ t.sections.tech_stack if t and t.sections and t.sections.tech_stack else 'Technology Stack' }}</h2>
    <div class="h-px flex-1 ml-4 bg-gradient-to-r from-cyan-500/50 to-transparent"></div>
  </div>
  <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-4">
    {% for category, items in tech_stack.items() %}
    <div class="glass rounded-xl p-4 shadow-soft">
      <p class="text-sm text-cyan-200 uppercase tracking-wide">{{ category }}</p>
      <div class="mt-3 flex flex-wrap gap-2">
        {% for item in items %}
        <span class="px-3 py-1 rounded-full bg-slate-800 text-sm">{{ item }}</span>
        {% endfor %}
      </div>
    </div>
    {% endfor %}
  </div>
</section>

<section id="projects" class="py-10">
  <div class="flex items-center justify-between mb-6">
    <h2 class="text-2xl font-display font-semibold">{{ t.sections.projects if t and t.sections and t.sections.projects else 'Projects' }}</h2>
    <div class="h-px flex-1 ml-4 bg-gradient-to-r from-cyan-500/50 to-transparent"></div>
  </div>
  <div class="grid md:grid-cols-2 gap-4">
    {% for project in projects %}
    <article class="glass rounded-xl p-4 shadow-soft flex flex-col gap-3" x-data="reveal" :class="{'fade-up': visible}">
      <div class="flex justify-between items-start">
        <div>
          <h3 class="text-xl font-semibold">{{ project.name }}</h3>
          <p class="text-sm text-slate-400">{{ project.language or 'Multi-lang' }}</p>
        </div>
        <a class="text-cyan-300 text-sm" href="{{ project.url }}" target="_blank" rel="noreferrer">{{ t.labels.repo if t and t.labels and t.labels.repo else 'Repo' }}</a>
      </div>
      <p class="text-slate-300">{{ project.description }}</p>
      {% if project.readme_preview %}
      <pre class="text-xs text-slate-400 bg-slate-900/70 p-3 rounded-md overflow-hidden">{{ project.readme_preview }}</pre>
      {% endif %}
      <div class="flex flex-wrap gap-2">
        {% for topic in project.topics %}
        <span class="px-3 py-1 rounded-full bg-cyan-500/10 text-cyan-100 text-xs">{{ topic }}</span>
        {% endfor %}
      </div>
    </article>
    {% endfor %}
  </div>
</section>

<section id="contact" class="py-12">
  <div class="glass rounded-2xl p-8 shadow-soft grid gap-6">
    <div>
      <h3 class="text-2xl font-display font-semibold mb-3">{{ t.sections.contact if t and t.sections and t.sections.contact else 'Contact' }}</h3>
      <p class="text-slate-300">{{ t.contact.body if t and t.contact and t.contact.body else 'Ready to discuss cloud migration, platform hardening, or observability.' }}</p>
      <div class="mt-4 flex gap-3">
        <a class="px-4 py-2 rounded-md bg-cyan-500 text-slate-950 font-semibold" href="mailto:khaled.elghammarti@hotmail.com">Email</a>
        <a class="px-4 py-2 rounded-md border border-slate-700" href="https://www.linkedin.com/in/khaled-el-ghammarti" target="_blank" rel="noreferrer">LinkedIn</a>
      </div>
    </div>
  </div>
</section>
{% endblock %}
